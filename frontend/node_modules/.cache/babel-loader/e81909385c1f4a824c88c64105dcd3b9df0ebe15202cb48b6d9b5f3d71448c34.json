{"ast":null,"code":"import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nclass SessionStore {\n  constructor() {\n    this.store = void 0;\n    this.useSession = () => setUser = session => this.store.getState().setUser(session);\n    this.removeUser = () => this.store.getState().removeUser();\n    this.store = create()(persist((set, get) => ({\n      session: null,\n      setUser: session => {\n        set({\n          session: session\n        });\n      },\n      removeUser: () => {\n        set({\n          session: null\n        });\n      }\n    }), {\n      name: \"sessionStorage\",\n      onRehydrateStorage: () => state => {\n        console.log(\"rehydrate\", state);\n      }\n    }));\n  }\n}\nexport const sessionStore = new SessionStore();","map":{"version":3,"names":["create","persist","SessionStore","constructor","store","useSession","setUser","session","getState","removeUser","set","get","name","onRehydrateStorage","state","console","log","sessionStore"],"sources":["D:/Mega/Planner/frontend/src/entities/session/store.ts"],"sourcesContent":["import {create} from \"zustand\";\r\nimport {persist} from \"zustand/middleware\";\r\n\r\ninterface ISessionState {\r\n    session: string | null;\r\n\r\n    setUser: (session: string) => void;\r\n    removeUser: () => void;\r\n}\r\n\r\nclass SessionStore {\r\n    private store;\r\n\r\n    constructor() {\r\n        this.store = create<ISessionState>()(\r\n            persist(\r\n                (set, get) => ({\r\n                    session: null,\r\n\r\n                    setUser: (session: string) => {\r\n                        set({session: session});\r\n                    },\r\n\r\n                    removeUser: () => {\r\n                        set({session: null});\r\n                    }\r\n                }),\r\n                {\r\n                    name: \"sessionStorage\",\r\n                    onRehydrateStorage: () => state => {\r\n                        console.log(\"rehydrate\", state);\r\n                    }\r\n                }\r\n            )\r\n        );\r\n    }\r\n\r\n    useSession = () => \r\n    setUser = (session: string) => this.store.getState().setUser(session);\r\n    removeUser = () => this.store.getState().removeUser();\r\n}\r\n\r\nexport const sessionStore = new SessionStore();"],"mappings":"AAAA,SAAQA,MAAM,QAAO,SAAS;AAC9B,SAAQC,OAAO,QAAO,oBAAoB;AAS1C,MAAMC,YAAY,CAAC;EAGfC,WAAWA,CAAA,EAAG;IAAA,KAFNC,KAAK;IAAA,KA0BbC,UAAU,GAAG,MACbC,OAAO,GAAIC,OAAe,IAAK,IAAI,CAACH,KAAK,CAACI,QAAQ,CAAC,CAAC,CAACF,OAAO,CAACC,OAAO,CAAC;IAAA,KACrEE,UAAU,GAAG,MAAM,IAAI,CAACL,KAAK,CAACI,QAAQ,CAAC,CAAC,CAACC,UAAU,CAAC,CAAC;IAzBjD,IAAI,CAACL,KAAK,GAAGJ,MAAM,CAAgB,CAAC,CAChCC,OAAO,CACH,CAACS,GAAG,EAAEC,GAAG,MAAM;MACXJ,OAAO,EAAE,IAAI;MAEbD,OAAO,EAAGC,OAAe,IAAK;QAC1BG,GAAG,CAAC;UAACH,OAAO,EAAEA;QAAO,CAAC,CAAC;MAC3B,CAAC;MAEDE,UAAU,EAAEA,CAAA,KAAM;QACdC,GAAG,CAAC;UAACH,OAAO,EAAE;QAAI,CAAC,CAAC;MACxB;IACJ,CAAC,CAAC,EACF;MACIK,IAAI,EAAE,gBAAgB;MACtBC,kBAAkB,EAAEA,CAAA,KAAMC,KAAK,IAAI;QAC/BC,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEF,KAAK,CAAC;MACnC;IACJ,CACJ,CACJ,CAAC;EACL;AAKJ;AAEA,OAAO,MAAMG,YAAY,GAAG,IAAIf,YAAY,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}