{"ast":null,"code":"var _jsxFileName = \"D:\\\\Mega\\\\Planner\\\\frontend\\\\src\\\\widgets\\\\settings_form\\\\ui\\\\SettingsForm.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useForm, useFormTextField } from \"@shared/hooks\";\nimport { AuthValidator, CommonValidator } from \"@shared/lib\";\nimport { userStore } from \"@entities/user\";\nimport { Form, FormInput, FormReference, FormSubmit } from \"@shared/ui\";\nimport { ROUTER_URL } from \"@shared/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validators = [CommonValidator.required(), CommonValidator.specialChars()];\nexport const SettingsForm = () => {\n  _s();\n  const profile = userStore.useProfile();\n  const username = useFormTextField(\"username\", validators, profile.user.username);\n  const firstName = useFormTextField(\"first_name\", [...validators, AuthValidator.realName()], profile.user.first_name);\n  const lastName = useFormTextField(\"last_name\", [...validators, AuthValidator.realName()], profile.user.last_name);\n  // const password = useFormTextField(\"password\", validators);\n  // const confirmPassword = useFormTextField(\"confirm_password\", [\n  //     ...validators,\n  //     CommonValidator.isEqualTo({\n  //         equalTo: password.value,\n  //         message: \"Пароль должен совпадать со старым\"\n  //     })\n  // ]);\n  // const newPassword = useFormTextField(\"new_password\", [\n  //     ...validators,\n  //     CommonValidator.isEqualTo({\n  //         equalTo: password.value,\n  //         message: \"Пароль не должен совпадать со старым\",\n  //         reverse: true\n  //     })\n  // ]);\n\n  const form = useForm({\n    fields: [username, firstName, lastName],\n    apiCall: async () => await userStore.update({\n      user: {\n        username: username.value,\n        first_name: firstName.value,\n        last_name: lastName.value\n      }\n    }),\n    defaultError: {}\n  });\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: form.handleFormSubmit,\n    center: true,\n    wide: true,\n    children: [/*#__PURE__*/_jsxDEV(FormInput, {\n      type: \"text\",\n      placeholder: \"Введите имя...\",\n      mask: \"\",\n      header: \"Имя\",\n      onChange: firstName.handleChange,\n      error: firstName.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n      type: \"text\",\n      placeholder: \"Введите логин...\",\n      mask: \"\",\n      header: \"Логин\",\n      onChange: username.handleChange,\n      error: username.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n      type: \"text\",\n      placeholder: \"Введите фамилию...\",\n      mask: \"\",\n      header: \"Фамилия\",\n      onChange: lastName.handleChange,\n      error: lastName.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormSubmit, {\n      children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormReference, {\n      to: ROUTER_URL.SETTINGS,\n      children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(SettingsForm, \"W2huSBrHXL2wty9r0jlL7CLoMNQ=\", false, function () {\n  return [userStore.useProfile, useFormTextField, useFormTextField, useFormTextField, useForm];\n});\n_c = SettingsForm;\nvar _c;\n$RefreshReg$(_c, \"SettingsForm\");","map":{"version":3,"names":["React","useForm","useFormTextField","AuthValidator","CommonValidator","userStore","Form","FormInput","FormReference","FormSubmit","ROUTER_URL","jsxDEV","_jsxDEV","validators","required","specialChars","SettingsForm","_s","profile","useProfile","username","user","firstName","realName","first_name","lastName","last_name","form","fields","apiCall","update","value","defaultError","onSubmit","handleFormSubmit","center","wide","children","type","placeholder","mask","header","onChange","handleChange","error","fileName","_jsxFileName","lineNumber","columnNumber","to","SETTINGS","_c","$RefreshReg$"],"sources":["D:/Mega/Planner/frontend/src/widgets/settings_form/ui/SettingsForm.tsx"],"sourcesContent":["import React from 'react';\r\nimport {useForm, useFormTextField} from \"@shared/hooks\";\r\nimport {AuthValidator, CommonValidator} from \"@shared/lib\";\r\nimport {TextField} from \"@shared/types\";\r\nimport {ResponseErrorData} from \"@shared/api\";\r\nimport {userStore} from \"@entities/user\";\r\nimport {Form, FormInput, FormReference, FormSubmit} from \"@shared/ui\";\r\nimport {ROUTER_URL} from \"@shared/config\";\r\n\r\nconst validators = [\r\n    CommonValidator.required(),\r\n    CommonValidator.specialChars()\r\n];\r\n\r\nexport const SettingsForm = () => {\r\n    const profile = userStore.useProfile()!;\r\n\r\n    const username = useFormTextField(\"username\", validators, profile.user.username);\r\n    const firstName = useFormTextField(\"first_name\", [\r\n        ...validators,\r\n        AuthValidator.realName()\r\n    ], profile.user.first_name);\r\n    const lastName = useFormTextField(\"last_name\", [\r\n        ...validators,\r\n        AuthValidator.realName()\r\n    ], profile.user.last_name);\r\n    // const password = useFormTextField(\"password\", validators);\r\n    // const confirmPassword = useFormTextField(\"confirm_password\", [\r\n    //     ...validators,\r\n    //     CommonValidator.isEqualTo({\r\n    //         equalTo: password.value,\r\n    //         message: \"Пароль должен совпадать со старым\"\r\n    //     })\r\n    // ]);\r\n    // const newPassword = useFormTextField(\"new_password\", [\r\n    //     ...validators,\r\n    //     CommonValidator.isEqualTo({\r\n    //         equalTo: password.value,\r\n    //         message: \"Пароль не должен совпадать со старым\",\r\n    //         reverse: true\r\n    //     })\r\n    // ]);\r\n\r\n    const form = useForm<TextField, void, ResponseErrorData>({\r\n        fields: [username, firstName, lastName],\r\n        apiCall: async () => await userStore.update({\r\n            user: {\r\n                username: username.value,\r\n                first_name: firstName.value,\r\n                last_name: lastName.value,\r\n            }\r\n        }),\r\n        defaultError: {}\r\n    });\r\n\r\n    return (\r\n        <Form onSubmit={form.handleFormSubmit} center wide>\r\n            <FormInput type={\"text\"} placeholder={\"Введите имя...\"} mask={\"\"}\r\n                       header={\"Имя\"}\r\n                       onChange={firstName.handleChange}\r\n                       error={firstName.error}\r\n            />\r\n            <FormInput type={\"text\"} placeholder={\"Введите логин...\"} mask={\"\"}\r\n                       header={\"Логин\"}\r\n                       onChange={username.handleChange}\r\n                       error={username.error}\r\n            />\r\n            <FormInput type={\"text\"} placeholder={\"Введите фамилию...\"} mask={\"\"}\r\n                       header={\"Фамилия\"}\r\n                       onChange={lastName.handleChange}\r\n                       error={lastName.error}\r\n            />\r\n\r\n            <FormSubmit>Изменить</FormSubmit>\r\n            <FormReference to={ROUTER_URL.SETTINGS}>Изменить пароль</FormReference>\r\n        </Form>\r\n    );\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}