{"ast":null,"code":"export class Validator {\n  static validate(data) {\n    const errors = {};\n    console.log(\"before\", errors);\n    for (const key in data) {\n      const value = data[key];\n      if (value) {\n        errors[key] = this.getError(value);\n      }\n    }\n    console.log(\"after\", errors);\n    return errors;\n  }\n  static getError(errors) {\n    return errors[0];\n  }\n  static required(value) {\n    if (value.length) {\n      return [];\n    }\n    return [\"Поле обязательно\"];\n  }\n}\n\n/*\r\n\r\nValidator.validate({\r\n    username: {username, AuthValidator.require}\r\n})\r\n\r\nAuthValidator.validate({\r\n    username: username,\r\n    password: password\r\n})\r\n\r\nauthvalidator.validate(data: AuthData) {\r\n    return Validator.validate({\r\n        username: authvalidator.username(data.username),\r\n        ...\r\n    });\r\n}\r\n\r\n */\n\n// {username, password} => {(check login => error | undefined), (check password => error | undefined)}","map":{"version":3,"names":["Validator","validate","data","errors","console","log","key","value","getError","required","length"],"sources":["D:/Mega/Planner/frontend/src/shared/lib/validator/base.ts"],"sourcesContent":["export interface IValidatorData<T> {\r\n    [index: string]: T;\r\n}\r\n\r\nexport class Validator {\r\n    static validate(data: IValidatorData<string[]>) {\r\n        const errors: IValidatorData<string> = {};\r\n\r\n        console.log(\"before\", errors);\r\n\r\n        for(const key in data) {\r\n            const value = data[key];\r\n            if(value) {\r\n                errors[key] = this.getError(value);\r\n            }\r\n        }\r\n\r\n        console.log(\"after\", errors);\r\n\r\n        return errors;\r\n    }\r\n\r\n    static getError(errors: string[]) {\r\n        return errors[0];\r\n    }\r\n\r\n    static required(value: string) {\r\n        if(value.length) {\r\n            return [];\r\n        }\r\n\r\n        return [\"Поле обязательно\"];\r\n    }\r\n}\r\n\r\n/*\r\n\r\nValidator.validate({\r\n    username: {username, AuthValidator.require}\r\n})\r\n\r\nAuthValidator.validate({\r\n    username: username,\r\n    password: password\r\n})\r\n\r\nauthvalidator.validate(data: AuthData) {\r\n    return Validator.validate({\r\n        username: authvalidator.username(data.username),\r\n        ...\r\n    });\r\n}\r\n\r\n */\r\n\r\n// {username, password} => {(check login => error | undefined), (check password => error | undefined)}"],"mappings":"AAIA,OAAO,MAAMA,SAAS,CAAC;EACnB,OAAOC,QAAQA,CAACC,IAA8B,EAAE;IAC5C,MAAMC,MAA8B,GAAG,CAAC,CAAC;IAEzCC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,MAAM,CAAC;IAE7B,KAAI,MAAMG,GAAG,IAAIJ,IAAI,EAAE;MACnB,MAAMK,KAAK,GAAGL,IAAI,CAACI,GAAG,CAAC;MACvB,IAAGC,KAAK,EAAE;QACNJ,MAAM,CAACG,GAAG,CAAC,GAAG,IAAI,CAACE,QAAQ,CAACD,KAAK,CAAC;MACtC;IACJ;IAEAH,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,MAAM,CAAC;IAE5B,OAAOA,MAAM;EACjB;EAEA,OAAOK,QAAQA,CAACL,MAAgB,EAAE;IAC9B,OAAOA,MAAM,CAAC,CAAC,CAAC;EACpB;EAEA,OAAOM,QAAQA,CAACF,KAAa,EAAE;IAC3B,IAAGA,KAAK,CAACG,MAAM,EAAE;MACb,OAAO,EAAE;IACb;IAEA,OAAO,CAAC,kBAAkB,CAAC;EAC/B;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}