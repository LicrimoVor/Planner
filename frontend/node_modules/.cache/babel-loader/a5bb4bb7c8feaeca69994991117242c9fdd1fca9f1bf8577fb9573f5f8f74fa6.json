{"ast":null,"code":"var _jsxFileName = \"D:\\\\Mega\\\\Planner\\\\frontend\\\\src\\\\app\\\\router\\\\Router.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { lazy } from 'react';\nimport { Navigate, useRoutes } from \"react-router-dom\";\nimport { ROUTER_URL } from \"@shared/config\";\nimport { Loader } from \"@shared/ui\";\nimport { AuthGuard, GuestGuard, sessionStore } from \"@entities/session\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = Loader(_c2 = /*#__PURE__*/lazy(_c = () => import(\"@pages/login\")));\n_c3 = LoginPage;\nconst RegistrationPage = Loader(_c5 = /*#__PURE__*/lazy(_c4 = () => import(\"@pages/registration\")));\n_c6 = RegistrationPage;\nconst RecoveryPage = Loader(_c8 = /*#__PURE__*/lazy(_c7 = () => import(\"@pages/recovery\")));\n_c9 = RecoveryPage;\nconst PersonalPage = Loader(_c11 = /*#__PURE__*/lazy(_c10 = () => import(\"@pages/personal\")));\n_c12 = PersonalPage;\nconst routerLoader = async () => {\n  _s();\n  // console.log(AuthStore.useSession);\n  // AuthStore.check();\n  // sessionStore.setUser(\"test session\");\n  console.log(sessionStore.useSession());\n  return true;\n};\n_s(routerLoader, \"PnA/FcuEkrLlTOTgpDyjo1B72BY=\", false, function () {\n  return [sessionStore.useSession];\n});\nconst routes = [];\nfunction attachLoader(routes, loader) {\n  for (const route of routes) {\n    var _route$children;\n    if (route.path || route.index) {\n      route.loader = loader;\n    }\n    if ((_route$children = route.children) !== null && _route$children !== void 0 && _route$children.length) {\n      attachLoader(route.children, loader);\n    }\n  }\n  return routes;\n}\nexport const Router = () => {\n  _s2();\n  const isAuth = sessionStore.useSession();\n  return useRoutes([{\n    path: ROUTER_URL.ROOT,\n    // element: (<AuthLoader />),\n    children: [{\n      index: true,\n      element: /*#__PURE__*/_jsxDEV(Navigate, {\n        to: ROUTER_URL.PERSONAL,\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }, this)\n    }, {\n      path: ROUTER_URL.LOGIN,\n      element: /*#__PURE__*/_jsxDEV(GuestGuard, {\n        isAuth: isAuth,\n        children: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }, this)\n    }, {\n      path: ROUTER_URL.REGISTRATION,\n      element: /*#__PURE__*/_jsxDEV(GuestGuard, {\n        isAuth: isAuth,\n        children: /*#__PURE__*/_jsxDEV(RegistrationPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }, this)\n    }, {\n      path: `${ROUTER_URL.RECOVERY}/:uid/:token`,\n      element: /*#__PURE__*/_jsxDEV(GuestGuard, {\n        isAuth: isAuth,\n        children: /*#__PURE__*/_jsxDEV(RecoveryPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }, this)\n    }, {\n      path: ROUTER_URL.PERSONAL,\n      element: /*#__PURE__*/_jsxDEV(AuthGuard, {\n        isAuth: isAuth,\n        children: /*#__PURE__*/_jsxDEV(PersonalPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }, this)\n    }]\n  }, {\n    path: ROUTER_URL.ERROR_404,\n    element: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0435\\u0431\\u0430\\u043D\\u044B\\u0439 \\u0432 \\u0440\\u043E\\u0442\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 23\n    }, this)\n  }, {\n    path: \"*\",\n    element: /*#__PURE__*/_jsxDEV(Navigate, {\n      to: ROUTER_URL.ERROR_404,\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 22\n    }, this)\n  }]);\n};\n_s2(Router, \"EIkxxjFHuGIqESSKqqi61ruNEMI=\", false, function () {\n  return [sessionStore.useSession, useRoutes];\n});\n_c13 = Router;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13;\n$RefreshReg$(_c, \"LoginPage$Loader$lazy\");\n$RefreshReg$(_c2, \"LoginPage$Loader\");\n$RefreshReg$(_c3, \"LoginPage\");\n$RefreshReg$(_c4, \"RegistrationPage$Loader$lazy\");\n$RefreshReg$(_c5, \"RegistrationPage$Loader\");\n$RefreshReg$(_c6, \"RegistrationPage\");\n$RefreshReg$(_c7, \"RecoveryPage$Loader$lazy\");\n$RefreshReg$(_c8, \"RecoveryPage$Loader\");\n$RefreshReg$(_c9, \"RecoveryPage\");\n$RefreshReg$(_c10, \"PersonalPage$Loader$lazy\");\n$RefreshReg$(_c11, \"PersonalPage$Loader\");\n$RefreshReg$(_c12, \"PersonalPage\");\n$RefreshReg$(_c13, \"Router\");","map":{"version":3,"names":["React","lazy","Navigate","useRoutes","ROUTER_URL","Loader","AuthGuard","GuestGuard","sessionStore","jsxDEV","_jsxDEV","LoginPage","_c2","_c","_c3","RegistrationPage","_c5","_c4","_c6","RecoveryPage","_c8","_c7","_c9","PersonalPage","_c11","_c10","_c12","routerLoader","_s","console","log","useSession","routes","attachLoader","loader","route","_route$children","path","index","children","length","Router","_s2","isAuth","ROOT","element","to","PERSONAL","replace","fileName","_jsxFileName","lineNumber","columnNumber","LOGIN","REGISTRATION","RECOVERY","ERROR_404","_c13","$RefreshReg$"],"sources":["D:/Mega/Planner/frontend/src/app/router/Router.tsx"],"sourcesContent":["import React, {lazy} from 'react';\r\nimport {createBrowserRouter, LoaderFunction, Navigate, RouteObject, useRoutes} from \"react-router-dom\";\r\nimport {ROUTER_URL} from \"@shared/config\";\r\nimport {Loader} from \"@shared/ui\";\r\nimport {Spinner} from \"@shared/ui/spinner\";\r\nimport {AuthLoader} from \"@features\";\r\nimport {AuthGuard, GuestGuard, sessionStore} from \"@entities/session\";\r\n\r\nconst LoginPage = Loader(lazy(() => import(\"@pages/login\")));\r\nconst RegistrationPage = Loader(lazy(() => import(\"@pages/registration\")));\r\nconst RecoveryPage = Loader(lazy(() => import(\"@pages/recovery\")));\r\n\r\nconst PersonalPage = Loader(lazy(() => import(\"@pages/personal\")));\r\n\r\nconst routerLoader = async () => {\r\n    // console.log(AuthStore.useSession);\r\n    // AuthStore.check();\r\n    // sessionStore.setUser(\"test session\");\r\n    console.log(sessionStore.useSession());\r\n    return true;\r\n}\r\n\r\nconst routes: RouteObject[] = [\r\n\r\n];\r\n\r\nfunction attachLoader(routes: RouteObject[], loader: LoaderFunction<any>) {\r\n    for (const route of routes) {\r\n        if (route.path || route.index) {\r\n            route.loader = loader;\r\n        }\r\n        if (route.children?.length) {\r\n            attachLoader(route.children, loader);\r\n        }\r\n    }\r\n    return routes;\r\n}\r\n\r\nexport const Router = () => {\r\n    const isAuth = sessionStore.useSession();\r\n\r\n    return useRoutes([\r\n        {\r\n            path: ROUTER_URL.ROOT,\r\n            // element: (<AuthLoader />),\r\n            children: [\r\n                {\r\n                    index: true,\r\n                    element: (\r\n                        <Navigate to={ROUTER_URL.PERSONAL} replace />\r\n                    )\r\n                },\r\n\r\n                {\r\n                    path: ROUTER_URL.LOGIN,\r\n                    element: (\r\n                        <GuestGuard isAuth={isAuth}>\r\n                            <LoginPage />\r\n                        </GuestGuard>\r\n                    )\r\n                },\r\n                {\r\n                    path: ROUTER_URL.REGISTRATION,\r\n                    element: (\r\n                        <GuestGuard isAuth={isAuth}>\r\n                            <RegistrationPage />\r\n                        </GuestGuard>\r\n                    )\r\n                },\r\n                {\r\n                    path: `${ROUTER_URL.RECOVERY}/:uid/:token`,\r\n                    element: (\r\n                        <GuestGuard isAuth={isAuth}>\r\n                            <RecoveryPage />\r\n                        </GuestGuard>\r\n                    )\r\n                },\r\n\r\n                {\r\n                    path: ROUTER_URL.PERSONAL,\r\n                    element: (\r\n                        <AuthGuard isAuth={isAuth}>\r\n                            <PersonalPage />\r\n                        </AuthGuard>\r\n                    )\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            path: ROUTER_URL.ERROR_404,\r\n            element: (<div>Ошибка ебаный в рот</div>)\r\n        },\r\n        {\r\n            path: \"*\",\r\n            element: <Navigate to={ROUTER_URL.ERROR_404} replace />\r\n        }\r\n    ]);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}