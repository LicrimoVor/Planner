{"ast":null,"code":"export class Validator {\n  static validate(data) {\n    const errors = {};\n    for (const key in data) {\n      const error = this.getError(data[key]);\n      if (error) {\n        errors[key] = error;\n      }\n    }\n    return errors;\n  }\n  static getError(errors) {\n    return errors[0];\n  }\n  static hasError(errors) {\n    for (const key in errors) {\n      if (errors[key]) {\n        return true;\n      }\n    }\n    return false;\n  }\n  static required(value) {\n    const errors = [];\n    if (!value.length && errors.push(\"Поле обязательно\")) {\n      return errors;\n    }\n    const regex = /(<(?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])+>)/g;\n    if (regex.test(value)) {\n      errors.push(\"Обнаружены недопустимые символы\");\n    }\n    return errors;\n  }\n  static validate(data) {}\n}","map":{"version":3,"names":["Validator","validate","data","errors","key","error","getError","hasError","required","value","length","push","regex","test"],"sources":["D:/Mega/Planner/frontend/src/shared/lib/validator/base.ts"],"sourcesContent":["import { IValidatorData } from \"./models\";\r\nimport {LoginValidator} from \"@shared/lib\";\r\nimport {ILoginParams} from \"@entities/user\";\r\n\r\nexport class Validator {\r\n    static validate(data: IValidatorData) {\r\n        const errors: Partial<IValidatorData> = {};\r\n\r\n        for(const key in data) {\r\n            const error = this.getError(data[key] as string[]);\r\n            if(error) {\r\n                errors[key] = error;\r\n            }\r\n        }\r\n\r\n        return errors;\r\n    }\r\n\r\n    static getError(errors: string[]) {\r\n        return errors[0];\r\n    }\r\n\r\n    static hasError(errors: IValidatorData) {\r\n        for(const key in errors) {\r\n            if(errors[key]) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    static required(value: string) {\r\n        const errors: string[] = [];\r\n\r\n        if(!value.length && errors.push(\"Поле обязательно\")) {\r\n            return errors;\r\n        }\r\n\r\n        const regex = /(<(?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])+>)/g;\r\n        if(regex.test(value)) {\r\n            errors.push(\"Обнаружены недопустимые символы\");\r\n        }\r\n\r\n        return errors;\r\n    }\r\n\r\n    static validate(data: ILoginParams) {  }\r\n}"],"mappings":"AAIA,OAAO,MAAMA,SAAS,CAAC;EACnB,OAAOC,QAAQA,CAACC,IAAoB,EAAE;IAClC,MAAMC,MAA+B,GAAG,CAAC,CAAC;IAE1C,KAAI,MAAMC,GAAG,IAAIF,IAAI,EAAE;MACnB,MAAMG,KAAK,GAAG,IAAI,CAACC,QAAQ,CAACJ,IAAI,CAACE,GAAG,CAAa,CAAC;MAClD,IAAGC,KAAK,EAAE;QACNF,MAAM,CAACC,GAAG,CAAC,GAAGC,KAAK;MACvB;IACJ;IAEA,OAAOF,MAAM;EACjB;EAEA,OAAOG,QAAQA,CAACH,MAAgB,EAAE;IAC9B,OAAOA,MAAM,CAAC,CAAC,CAAC;EACpB;EAEA,OAAOI,QAAQA,CAACJ,MAAsB,EAAE;IACpC,KAAI,MAAMC,GAAG,IAAID,MAAM,EAAE;MACrB,IAAGA,MAAM,CAACC,GAAG,CAAC,EAAE;QACZ,OAAO,IAAI;MACf;IACJ;IAEA,OAAO,KAAK;EAChB;EAEA,OAAOI,QAAQA,CAACC,KAAa,EAAE;IAC3B,MAAMN,MAAgB,GAAG,EAAE;IAE3B,IAAG,CAACM,KAAK,CAACC,MAAM,IAAIP,MAAM,CAACQ,IAAI,CAAC,kBAAkB,CAAC,EAAE;MACjD,OAAOR,MAAM;IACjB;IAEA,MAAMS,KAAK,GAAG,4CAA4C;IAC1D,IAAGA,KAAK,CAACC,IAAI,CAACJ,KAAK,CAAC,EAAE;MAClBN,MAAM,CAACQ,IAAI,CAAC,iCAAiC,CAAC;IAClD;IAEA,OAAOR,MAAM;EACjB;EAEA,OAAOF,QAAQA,CAACC,IAAkB,EAAE,CAAG;AAC3C"},"metadata":{},"sourceType":"module","externalDependencies":[]}