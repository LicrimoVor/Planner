{"ast":null,"code":"var _s = $RefreshSig$();\nimport { CommonValidator } from \"@shared/lib\";\nimport { useCallback, useState } from \"react\";\nexport function useFormTextField(id, validators, init = \"\") {\n  _s();\n  const [value, setValue] = useState(init);\n  console.log(value);\n  const [error, setError] = useState(null);\n  const handleChange = useCallback(async event => {\n    const newValue = event.target.value;\n    setValue(newValue);\n    setError(await CommonValidator.validate(newValue, validators));\n  }, [validators]);\n  const handleBlur = useCallback(async () => {\n    setError(await CommonValidator.validate(value, validators));\n  }, [value, validators]);\n  const hasError = useCallback(async () => {\n    const error = await CommonValidator.validate(value, validators);\n    setError(error);\n    return !!error;\n  }, [value, validators]);\n  const setFieldError = error => {\n    setError(error);\n  };\n  return {\n    id,\n    value,\n    error,\n    hasError,\n    handleChange,\n    handleBlur,\n    setFieldError\n  };\n}\n_s(useFormTextField, \"B06Qk82lA9TtGivB2vRKab3jrmU=\");\n;","map":{"version":3,"names":["CommonValidator","useCallback","useState","useFormTextField","id","validators","init","_s","value","setValue","console","log","error","setError","handleChange","event","newValue","target","validate","handleBlur","hasError","setFieldError"],"sources":["D:/Mega/Planner/frontend/src/shared/hooks/form/use-form-text-field.ts"],"sourcesContent":["import {CommonValidator, ValidationResult, Validator} from \"@shared/lib\";\r\nimport {TextField} from \"@shared/types\";\r\nimport {ChangeEvent, useCallback, useState} from \"react\";\r\n\r\nexport function useFormTextField(\r\n    id: string,\r\n    validators: Validator<string>[],\r\n    init = \"\"\r\n): TextField {\r\n    const [value, setValue] = useState(init);\r\n    console.log(value);\r\n    const [error, setError] = useState<ValidationResult>(null);\r\n\r\n    const handleChange = useCallback(\r\n        async (event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n            const newValue = event.target.value;\r\n\r\n            setValue(newValue);\r\n            setError(await CommonValidator.validate(newValue, validators));\r\n        },\r\n        [validators]\r\n    );\r\n\r\n    const handleBlur = useCallback(\r\n        async () => {\r\n            setError(await CommonValidator.validate(value, validators));\r\n        },\r\n        [value, validators]\r\n    );\r\n\r\n    const hasError = useCallback(\r\n        async () => {\r\n            const error = await CommonValidator.validate(value, validators);\r\n            setError(error);\r\n\r\n            return !!error;\r\n        },\r\n        [value, validators]\r\n    );\r\n\r\n    const setFieldError = (error: string | null) => {\r\n        setError(error);\r\n    }\r\n\r\n    return {\r\n        id,\r\n        value,\r\n        error,\r\n        hasError,\r\n        handleChange,\r\n        handleBlur,\r\n        setFieldError\r\n    };\r\n};"],"mappings":";AAAA,SAAQA,eAAe,QAAoC,aAAa;AAExE,SAAqBC,WAAW,EAAEC,QAAQ,QAAO,OAAO;AAExD,OAAO,SAASC,gBAAgBA,CAC5BC,EAAU,EACVC,UAA+B,EAC/BC,IAAI,GAAG,EAAE,EACA;EAAAC,EAAA;EACT,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAACI,IAAI,CAAC;EACxCI,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;EAClB,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAmB,IAAI,CAAC;EAE1D,MAAMY,YAAY,GAAGb,WAAW,CAC5B,MAAOc,KAA0D,IAAK;IAClE,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAACT,KAAK;IAEnCC,QAAQ,CAACO,QAAQ,CAAC;IAClBH,QAAQ,CAAC,MAAMb,eAAe,CAACkB,QAAQ,CAACF,QAAQ,EAAEX,UAAU,CAAC,CAAC;EAClE,CAAC,EACD,CAACA,UAAU,CACf,CAAC;EAED,MAAMc,UAAU,GAAGlB,WAAW,CAC1B,YAAY;IACRY,QAAQ,CAAC,MAAMb,eAAe,CAACkB,QAAQ,CAACV,KAAK,EAAEH,UAAU,CAAC,CAAC;EAC/D,CAAC,EACD,CAACG,KAAK,EAAEH,UAAU,CACtB,CAAC;EAED,MAAMe,QAAQ,GAAGnB,WAAW,CACxB,YAAY;IACR,MAAMW,KAAK,GAAG,MAAMZ,eAAe,CAACkB,QAAQ,CAACV,KAAK,EAAEH,UAAU,CAAC;IAC/DQ,QAAQ,CAACD,KAAK,CAAC;IAEf,OAAO,CAAC,CAACA,KAAK;EAClB,CAAC,EACD,CAACJ,KAAK,EAAEH,UAAU,CACtB,CAAC;EAED,MAAMgB,aAAa,GAAIT,KAAoB,IAAK;IAC5CC,QAAQ,CAACD,KAAK,CAAC;EACnB,CAAC;EAED,OAAO;IACHR,EAAE;IACFI,KAAK;IACLI,KAAK;IACLQ,QAAQ;IACRN,YAAY;IACZK,UAAU;IACVE;EACJ,CAAC;AACL;AAACd,EAAA,CAjDeJ,gBAAgB;AAiD/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}