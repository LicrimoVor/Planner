{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback } from \"react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { useTable } from \"react-table\";\nexport function useTaskTable(props) {\n  _s();\n  const {\n    tableColumns,\n    queryKey,\n    apiGet\n  } = props;\n  const table = useTable({\n    columns: tableColumns\n  });\n  const queryClient = useQueryClient();\n  const {\n    data: response\n  } = apiGet();\n  const tasks = (response === null || response === void 0 ? void 0 : response.results) || null;\n  const updateTable = useCallback(async () => {\n    await queryClient.resetQueries({\n      queryKey: [queryKey]\n    });\n  }, []);\n  return {\n    tasks,\n    updateTable\n  };\n}\n_s(useTaskTable, \"cLzT8fvytwLeMreER8C4+cj0Ry0=\", false, function () {\n  return [useTable, useQueryClient];\n});","map":{"version":3,"names":["useCallback","useQueryClient","useTable","useTaskTable","props","_s","tableColumns","queryKey","apiGet","table","columns","queryClient","data","response","tasks","results","updateTable","resetQueries"],"sources":["D:/Mega/Planner/frontend/src/shared/hooks/table/useTaskTable.ts"],"sourcesContent":["import {useCallback} from \"react\";\r\nimport {useQueryClient, UseQueryResult} from \"@tanstack/react-query\";\r\nimport {IPaginatorResponse} from \"@shared/api\";\r\nimport {Column, useTable} from \"react-table\";\r\n\r\nexport function useTaskTable<Task extends object>(props: {\r\n    tableColumns: Column<Task>[],\r\n    queryKey: string;\r\n    apiGet: () => UseQueryResult<IPaginatorResponse<Task>>;\r\n}): {\r\n    tasks: Task[] | null,\r\n    updateTable: () => void;\r\n} {\r\n    const {tableColumns, queryKey, apiGet} = props;\r\n\r\n    const table = useTable({columns: tableColumns});\r\n\r\n    const queryClient = useQueryClient();\r\n\r\n    const {\r\n        data: response,\r\n    } = apiGet();\r\n    const tasks = response?.results || null;\r\n\r\n    const updateTable = useCallback(async () => {\r\n        await queryClient.resetQueries({\r\n            queryKey: [queryKey]\r\n        });\r\n    }, []);\r\n\r\n    return {\r\n        tasks,\r\n        updateTable\r\n    }\r\n}"],"mappings":";AAAA,SAAQA,WAAW,QAAO,OAAO;AACjC,SAAQC,cAAc,QAAuB,uBAAuB;AAEpE,SAAgBC,QAAQ,QAAO,aAAa;AAE5C,OAAO,SAASC,YAAYA,CAAsBC,KAIjD,EAGC;EAAAC,EAAA;EACE,MAAM;IAACC,YAAY;IAAEC,QAAQ;IAAEC;EAAM,CAAC,GAAGJ,KAAK;EAE9C,MAAMK,KAAK,GAAGP,QAAQ,CAAC;IAACQ,OAAO,EAAEJ;EAAY,CAAC,CAAC;EAE/C,MAAMK,WAAW,GAAGV,cAAc,CAAC,CAAC;EAEpC,MAAM;IACFW,IAAI,EAAEC;EACV,CAAC,GAAGL,MAAM,CAAC,CAAC;EACZ,MAAMM,KAAK,GAAG,CAAAD,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEE,OAAO,KAAI,IAAI;EAEvC,MAAMC,WAAW,GAAGhB,WAAW,CAAC,YAAY;IACxC,MAAMW,WAAW,CAACM,YAAY,CAAC;MAC3BV,QAAQ,EAAE,CAACA,QAAQ;IACvB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACHO,KAAK;IACLE;EACJ,CAAC;AACL;AAACX,EAAA,CA7BeF,YAAY;EAAA,QAUVD,QAAQ,EAEFD,cAAc;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}