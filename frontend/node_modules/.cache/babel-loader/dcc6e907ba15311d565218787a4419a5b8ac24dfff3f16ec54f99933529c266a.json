{"ast":null,"code":"export class Validator {\n  static validate(data) {\n    const errors = {};\n    for (const key in data) {\n      const error = this.getError(data[key]);\n      if (error) {\n        errors[key] = error;\n      }\n    }\n    return errors;\n  }\n  static getError(errors) {\n    return errors[0];\n  }\n  static hasError(errors) {\n    for (const key in errors) {\n      if (errors[key]) {\n        return true;\n      }\n    }\n    return false;\n  }\n  static required(value) {\n    if (value.length) {\n      return [];\n    }\n    return [\"Поле обязательно\"];\n  }\n}\n\n/*\r\n\r\nValidator.validate({\r\n    username: {username, AuthValidator.require}\r\n})\r\n\r\nAuthValidator.validate({\r\n    username: username,\r\n    password: password\r\n})\r\n\r\nauthvalidator.validate(data: AuthData) {\r\n    return Validator.validate({\r\n        username: authvalidator.username(data.username),\r\n        ...\r\n    });\r\n}\r\n\r\n */\n\n// {username, password} => {(check login => error | undefined), (check password => error | undefined)}","map":{"version":3,"names":["Validator","validate","data","errors","key","error","getError","hasError","required","value","length"],"sources":["D:/Mega/Planner/frontend/src/shared/lib/validator/base.ts"],"sourcesContent":["export interface IValidatorData<T> {\r\n    [index: string]: T;\r\n}\r\n\r\nexport class Validator {\r\n    static validate(data: IValidatorData<string[]>) {\r\n        const errors: IValidatorData<string> = {};\r\n\r\n        for(const key in data) {\r\n            const error = this.getError(data[key]);\r\n            if(error) {\r\n                errors[key] = error;\r\n            }\r\n        }\r\n\r\n        return errors;\r\n    }\r\n\r\n    static getError(errors: string[]) {\r\n        return errors[0];\r\n    }\r\n\r\n    static hasError(errors: IValidatorData<string>) {\r\n        for(const key in errors) {\r\n            if(errors[key]) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    static required(value: string) {\r\n        if(value.length) {\r\n            return [];\r\n        }\r\n\r\n        return [\"Поле обязательно\"];\r\n    }\r\n}\r\n\r\n/*\r\n\r\nValidator.validate({\r\n    username: {username, AuthValidator.require}\r\n})\r\n\r\nAuthValidator.validate({\r\n    username: username,\r\n    password: password\r\n})\r\n\r\nauthvalidator.validate(data: AuthData) {\r\n    return Validator.validate({\r\n        username: authvalidator.username(data.username),\r\n        ...\r\n    });\r\n}\r\n\r\n */\r\n\r\n// {username, password} => {(check login => error | undefined), (check password => error | undefined)}"],"mappings":"AAIA,OAAO,MAAMA,SAAS,CAAC;EACnB,OAAOC,QAAQA,CAACC,IAA8B,EAAE;IAC5C,MAAMC,MAA8B,GAAG,CAAC,CAAC;IAEzC,KAAI,MAAMC,GAAG,IAAIF,IAAI,EAAE;MACnB,MAAMG,KAAK,GAAG,IAAI,CAACC,QAAQ,CAACJ,IAAI,CAACE,GAAG,CAAC,CAAC;MACtC,IAAGC,KAAK,EAAE;QACNF,MAAM,CAACC,GAAG,CAAC,GAAGC,KAAK;MACvB;IACJ;IAEA,OAAOF,MAAM;EACjB;EAEA,OAAOG,QAAQA,CAACH,MAAgB,EAAE;IAC9B,OAAOA,MAAM,CAAC,CAAC,CAAC;EACpB;EAEA,OAAOI,QAAQA,CAACJ,MAA8B,EAAE;IAC5C,KAAI,MAAMC,GAAG,IAAID,MAAM,EAAE;MACrB,IAAGA,MAAM,CAACC,GAAG,CAAC,EAAE;QACZ,OAAO,IAAI;MACf;IACJ;IAEA,OAAO,KAAK;EAChB;EAEA,OAAOI,QAAQA,CAACC,KAAa,EAAE;IAC3B,IAAGA,KAAK,CAACC,MAAM,EAAE;MACb,OAAO,EAAE;IACb;IAEA,OAAO,CAAC,kBAAkB,CAAC;EAC/B;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}