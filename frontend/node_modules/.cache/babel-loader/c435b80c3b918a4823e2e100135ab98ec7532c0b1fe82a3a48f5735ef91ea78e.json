{"ast":null,"code":"var _jsxFileName = \"D:\\\\Mega\\\\Planner\\\\frontend\\\\src\\\\widgets\\\\space_create_form\\\\ui\\\\SpaceCreateForm.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useForm, useFormTextField } from \"@shared/hooks\";\nimport { CommonValidator } from \"@shared/lib\";\nimport { Form, FormInput, FormLabel, FormReference, FormSubmit } from \"@shared/ui\";\nimport { ROUTES } from \"@shared/config\";\nimport { SpaceRepository } from \"@entities/space\";\nimport { userStore } from \"@entities/user\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validators = [CommonValidator.required(), CommonValidator.specialChars()];\nexport const SpaceCreateForm = () => {\n  _s();\n  const profile = userStore.useProfile();\n  const navigation = useNavigate();\n  const name = useFormTextField(\"name\", validators);\n  const form = useForm({\n    fields: [name],\n    apiCall: async () => await SpaceRepository.create({\n      name: name.value,\n      staff: [profile.user.id]\n    }),\n    onSuccess: space => {\n      navigation(ROUTES.USER.SPACE.SETTINGS(space.id));\n    },\n    defaultError: \"\"\n  });\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: form.handleFormSubmit,\n    center: true,\n    children: [/*#__PURE__*/_jsxDEV(FormInput, {\n      type: \"text\",\n      placeholder: \"Введите имя пространства...\",\n      mask: \"\",\n      header: \"Название\",\n      onChange: name.handleChange,\n      error: name.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormLabel, {\n      error: true,\n      children: form.sendingError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormSubmit, {\n      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormReference, {\n      to: ROUTES.USER.SPACE.ROOT(),\n      children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_s(SpaceCreateForm, \"4TuHfbLMt4pjafNQtj4BwQIek+c=\", false, function () {\n  return [userStore.useProfile, useNavigate, useFormTextField, useForm];\n});\n_c = SpaceCreateForm;\nvar _c;\n$RefreshReg$(_c, \"SpaceCreateForm\");","map":{"version":3,"names":["React","useForm","useFormTextField","CommonValidator","Form","FormInput","FormLabel","FormReference","FormSubmit","ROUTES","SpaceRepository","userStore","useNavigate","jsxDEV","_jsxDEV","validators","required","specialChars","SpaceCreateForm","_s","profile","useProfile","navigation","name","form","fields","apiCall","create","value","staff","user","id","onSuccess","space","USER","SPACE","SETTINGS","defaultError","onSubmit","handleFormSubmit","center","children","type","placeholder","mask","header","onChange","handleChange","error","fileName","_jsxFileName","lineNumber","columnNumber","sendingError","to","ROOT","_c","$RefreshReg$"],"sources":["D:/Mega/Planner/frontend/src/widgets/space_create_form/ui/SpaceCreateForm.tsx"],"sourcesContent":["import React from 'react';\r\nimport {useForm, useFormTextField} from \"@shared/hooks\";\r\nimport {CommonValidator} from \"@shared/lib\";\r\nimport {TextField} from \"@shared/types\";\r\nimport {Form, FormInput, FormLabel, FormReference, FormSubmit} from \"@shared/ui\";\r\nimport {ROUTES} from \"@shared/config\";\r\nimport {ISpace, SpaceRepository} from \"@entities/space\";\r\nimport {userStore} from \"@entities/user\";\r\nimport { redirect, useNavigate } from 'react-router-dom';\r\nimport {apiInstance} from \"@shared/api\";\r\n\r\nconst validators = [\r\n    CommonValidator.required(),\r\n    CommonValidator.specialChars(),\r\n];\r\n\r\nexport const SpaceCreateForm = () => {\r\n    const profile = userStore.useProfile()!;\r\n    const navigation = useNavigate();\r\n\r\n    const name = useFormTextField(\"name\", validators);\r\n\r\n    const form = useForm<TextField, ISpace, string>({\r\n        fields: [name],\r\n        apiCall: async () => await SpaceRepository.create({\r\n            name: name.value,\r\n            staff: [profile.user.id]\r\n        }),\r\n        onSuccess: (space) => {\r\n            navigation(ROUTES.USER.SPACE.SETTINGS(space.id));\r\n        },\r\n        defaultError: \"\"\r\n    })\r\n\r\n    return (\r\n        <Form onSubmit={form.handleFormSubmit} center>\r\n            <FormInput type={\"text\"} placeholder={\"Введите имя пространства...\"} mask={\"\"}\r\n                       header={\"Название\"}\r\n                       onChange={name.handleChange}\r\n                       error={name.error}\r\n            />\r\n\r\n            <FormLabel error>{form.sendingError}</FormLabel>\r\n            <FormSubmit>Создать</FormSubmit>\r\n            <FormReference to={ROUTES.USER.SPACE.ROOT()}>Вернуться к списку</FormReference>\r\n        </Form>\r\n    );\r\n};"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,OAAO,EAAEC,gBAAgB,QAAO,eAAe;AACvD,SAAQC,eAAe,QAAO,aAAa;AAE3C,SAAQC,IAAI,EAAEC,SAAS,EAAEC,SAAS,EAAEC,aAAa,EAAEC,UAAU,QAAO,YAAY;AAChF,SAAQC,MAAM,QAAO,gBAAgB;AACrC,SAAgBC,eAAe,QAAO,iBAAiB;AACvD,SAAQC,SAAS,QAAO,gBAAgB;AACxC,SAAmBC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGzD,MAAMC,UAAU,GAAG,CACfZ,eAAe,CAACa,QAAQ,CAAC,CAAC,EAC1Bb,eAAe,CAACc,YAAY,CAAC,CAAC,CACjC;AAED,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAMC,OAAO,GAAGT,SAAS,CAACU,UAAU,CAAC,CAAE;EACvC,MAAMC,UAAU,GAAGV,WAAW,CAAC,CAAC;EAEhC,MAAMW,IAAI,GAAGrB,gBAAgB,CAAC,MAAM,EAAEa,UAAU,CAAC;EAEjD,MAAMS,IAAI,GAAGvB,OAAO,CAA4B;IAC5CwB,MAAM,EAAE,CAACF,IAAI,CAAC;IACdG,OAAO,EAAE,MAAAA,CAAA,KAAY,MAAMhB,eAAe,CAACiB,MAAM,CAAC;MAC9CJ,IAAI,EAAEA,IAAI,CAACK,KAAK;MAChBC,KAAK,EAAE,CAACT,OAAO,CAACU,IAAI,CAACC,EAAE;IAC3B,CAAC,CAAC;IACFC,SAAS,EAAGC,KAAK,IAAK;MAClBX,UAAU,CAACb,MAAM,CAACyB,IAAI,CAACC,KAAK,CAACC,QAAQ,CAACH,KAAK,CAACF,EAAE,CAAC,CAAC;IACpD,CAAC;IACDM,YAAY,EAAE;EAClB,CAAC,CAAC;EAEF,oBACIvB,OAAA,CAACV,IAAI;IAACkC,QAAQ,EAAEd,IAAI,CAACe,gBAAiB;IAACC,MAAM;IAAAC,QAAA,gBACzC3B,OAAA,CAACT,SAAS;MAACqC,IAAI,EAAE,MAAO;MAACC,WAAW,EAAE,6BAA8B;MAACC,IAAI,EAAE,EAAG;MACnEC,MAAM,EAAE,UAAW;MACnBC,QAAQ,EAAEvB,IAAI,CAACwB,YAAa;MAC5BC,KAAK,EAAEzB,IAAI,CAACyB;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B,CAAC,eAEFtC,OAAA,CAACR,SAAS;MAAC0C,KAAK;MAAAP,QAAA,EAAEjB,IAAI,CAAC6B;IAAY;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,eAChDtC,OAAA,CAACN,UAAU;MAAAiC,QAAA,EAAC;IAAO;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,eAChCtC,OAAA,CAACP,aAAa;MAAC+C,EAAE,EAAE7C,MAAM,CAACyB,IAAI,CAACC,KAAK,CAACoB,IAAI,CAAC,CAAE;MAAAd,QAAA,EAAC;IAAkB;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAe,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7E,CAAC;AAEf,CAAC;AAACjC,EAAA,CA/BWD,eAAe;EAAA,QACRP,SAAS,CAACU,UAAU,EACjBT,WAAW,EAEjBV,gBAAgB,EAEhBD,OAAO;AAAA;AAAAuD,EAAA,GANXtC,eAAe;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}