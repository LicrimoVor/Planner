{"ast":null,"code":"import { AuthService } from \"./api\";\nimport Cookies from \"js-cookie\";\nimport { sessionStore } from \"@entities/session\";\nimport { ResponseError } from \"@shared/api\";\nexport class AuthRepository {}\nAuthRepository.login = async params => {\n  try {\n    await AuthService.login(params);\n    const session = Cookies.get(\"sessionid\");\n    sessionStore.setUser(session);\n  } catch (error) {\n    throw new Error(\"Неверный логин или пароль\");\n  }\n};\nAuthRepository.registration = async params => {\n  try {\n    const response = await AuthService.registration(params);\n  } catch (error) {\n    throw new ResponseError(error);\n  }\n};\nAuthRepository.logout = async () => {\n  try {\n    await AuthService.logout();\n    sessionStore.removeUser();\n  } catch (error) {}\n};","map":{"version":3,"names":["AuthService","Cookies","sessionStore","ResponseError","AuthRepository","login","params","session","get","setUser","error","Error","registration","response","logout","removeUser"],"sources":["D:/Mega/Planner/frontend/src/entities/session/auth/repository.ts"],"sourcesContent":["import {AuthService, ILoginParams, IRegistrationParams} from \"./api\";\r\nimport Cookies from \"js-cookie\";\r\nimport {sessionStore} from \"@entities/session\";\r\nimport {ResponseError, ResponseErrorData} from \"@shared/api\";\r\n\r\nexport class AuthRepository {\r\n    static login = async (params: ILoginParams) => {\r\n        try {\r\n            await AuthService.login(params);\r\n            const session = Cookies.get(\"sessionid\");\r\n            sessionStore.setUser(session!);\r\n        }\r\n        catch (error) {\r\n            throw new Error(\"Неверный логин или пароль\");\r\n        }\r\n    };\r\n\r\n    static registration = async (params: IRegistrationParams) => {\r\n        try {\r\n            const response = await AuthService.registration(params);\r\n        }\r\n        catch (error) {\r\n            throw new ResponseError(error as ResponseErrorData);\r\n        }\r\n    };\r\n\r\n    static logout = async () => {\r\n        try {\r\n            await AuthService.logout();\r\n            sessionStore.removeUser();\r\n        }\r\n        catch (error) {\r\n\r\n        }\r\n    };\r\n}"],"mappings":"AAAA,SAAQA,WAAW,QAA0C,OAAO;AACpE,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAAQC,YAAY,QAAO,mBAAmB;AAC9C,SAAQC,aAAa,QAA0B,aAAa;AAE5D,OAAO,MAAMC,cAAc,CAAC;AAAfA,cAAc,CAChBC,KAAK,GAAG,MAAOC,MAAoB,IAAK;EAC3C,IAAI;IACA,MAAMN,WAAW,CAACK,KAAK,CAACC,MAAM,CAAC;IAC/B,MAAMC,OAAO,GAAGN,OAAO,CAACO,GAAG,CAAC,WAAW,CAAC;IACxCN,YAAY,CAACO,OAAO,CAACF,OAAQ,CAAC;EAClC,CAAC,CACD,OAAOG,KAAK,EAAE;IACV,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;EAChD;AACJ,CAAC;AAVQP,cAAc,CAYhBQ,YAAY,GAAG,MAAON,MAA2B,IAAK;EACzD,IAAI;IACA,MAAMO,QAAQ,GAAG,MAAMb,WAAW,CAACY,YAAY,CAACN,MAAM,CAAC;EAC3D,CAAC,CACD,OAAOI,KAAK,EAAE;IACV,MAAM,IAAIP,aAAa,CAACO,KAA0B,CAAC;EACvD;AACJ,CAAC;AAnBQN,cAAc,CAqBhBU,MAAM,GAAG,YAAY;EACxB,IAAI;IACA,MAAMd,WAAW,CAACc,MAAM,CAAC,CAAC;IAC1BZ,YAAY,CAACa,UAAU,CAAC,CAAC;EAC7B,CAAC,CACD,OAAOL,KAAK,EAAE,CAEd;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}